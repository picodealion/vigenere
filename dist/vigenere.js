!function e(t,n,r){function o(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){var r=e("./modules/Vigenere");r.init()},{"./modules/Vigenere":7}],2:[function(e,t,n){function r(){"use strict";function e(e){var r,o,u,s=[];for(i.log("Shifting text to find the text that resembles English most"),r=0;26>r;r++)u=n(e,r),s.push({shift:r,text:u,chi:t(u)});return s.sort(function(e,t){return e.chi-t.chi}),o=String.fromCharCode(s[0].shift+97),i.log("Lowest chi-squared occurs with letter:",o,"("+s[0].chi+")"),o}function t(e){var t,n,i=0,u=o.countLetters(e);for(n=0;26>n;n++)t=e.length*r[n],i+=Math.pow(u[n]-t,2)/t;return i}function n(e,t){var n,r,o="";for(n=0;n<e.length;n++)r=(e.charCodeAt(n)-97+(26-t))%26,o+=String.fromCharCode(r+97);return o}var r=[.08167,.01492,.02782,.04253,.12702,.02228,.02015,.06094,.06966,.00153,.00772,.04025,.02406,.06749,.07507,.01929,95e-5,.05987,.06327,.09056,.02758,.00978,.0236,.0015,.01974,74e-5];return{findShiftLetter:e,shiftText:n}}var o=(e("./IndexOfCoincidence"),e("./Strings")),i=e("./Utils");t.exports=r()},{"./IndexOfCoincidence":4,"./Strings":5,"./Utils":6}],3:[function(e,t,n){function r(){"use strict";function e(e,t){var n,r=[];for(n=t;n<Math.floor(e/2);n++)e%n===0&&r.push(n);return r}function t(t){var n,r,i;return r=t.reduce(function(t,n){return t.concat(e(n,3))},[]),n=r.reduce(function(e,t){return e[t]=++e[t]||1,e},{}),i=r.filter(o.uniqueFilter).sort(function(e,t){return n[t]-n[e]}),i.slice(0,3)}return{getFactors:e,getGCDs:t}}var o=e("./Utils");t.exports=r()},{"./Utils":6}],4:[function(e,t,n){function r(){"use strict";function e(e){var t,n,r=o.countLetters(e);return n=r.reduce(function(t,n){return t+n/e.length*((n-1)/(e.length-1))},0),t=26*n}function t(e,t){return t.map(function(t){var r=n(e,t);return{keyLength:t,IC:r}})}function n(t,n){var r,u,s=o.splitTextIntoColumns(t,n);return u=s.map(e).reduce(function(e,t){return e+t}),r=u/s.length,i.log("IC for key of length",n+":",r),r}function r(e,t){return Math.abs(e.IC-u)>Math.abs(t.IC-u)}var u=1.73;return{calculateIC:e,calculateICForKeyLengths:t,getICForKeyLength:n,sortByClosestIC:r}}var o=e("./Strings"),i=e("./Utils");t.exports=r()},{"./Strings":5,"./Utils":6}],5:[function(e,t,n){function r(){function e(e){var t,n=[];for(t=0;26>t;t++)n[t]=0;for(t=0;t<e.length;t++){var r=e.charCodeAt(t)-97;n[r]++}return n}function t(e,t,r){var i=[];l=e;for(var u=r;u>=t;u--)i=i.concat(n(u));return i.length>0?o.log("Recurring strings:",i.map(function(e){return e.string})):o.log("No recurring strings found :("),l=null,i}function n(e){o.log("Finding recurring strings of length",e);for(var t,n,i,u=0,s=[];u<l.length-e;)i=l.substr(u,e),n=new RegExp(i,"g"),t=l.match(n).length,!i.match(" ")&&t>1&&(o.log(i,"occurs",t,"times"),s.push(r(i))),u++;return s}function r(e){for(var t,n=new RegExp(e,"g"),r={string:e,positions:[]};null!==(t=n.exec(l));)r.positions.push(t.index),l=s(l,t.index,t.index+e.length);return r}function i(e){var t,n,r="";for(t=0;t<e[0].length;t++)for(n=0;n<e.length;n++)e[n][t]&&(r+=e[n][t]);return r}function u(e){var t=e.match(/^(\w+)?\1+$/);return t&&(e=t[1]),e}function s(e,t,n){var r,o="";for(r=0;n-t>r;r++)o+=" ";return e.substring(0,t)+o+e.substring(n)}function c(e,t){for(var n=[],r=0;t>r;r++){for(var o=r,i="";e[o];)i+=e[o],o+=t;n.push(i)}return n}var l;return{countLetters:e,getRecurringStrings:t,mergeColumns:i,reduceRepeatedWord:u,replaceWithSpaces:s,splitTextIntoColumns:c}}var o=e("./Utils");t.exports=r()},{"./Utils":6}],6:[function(e,t,n){function r(){function e(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(e){var t,r,o;return n("Distances between recurring strings:"),t=e.map(function(e){for(r=[],o=0;o<e.positions.length-1;o++)r.push(e.positions[o+1]-e.positions[o]);return r}).reduce(function(e,t){return e.concat(t)}),n(t),t}function n(){var e=document.getElementById("log"),t=document.createElement("span"),n=Array.prototype.slice.call(arguments).join(" ");t.innerText=n,t.className="logline",e.appendChild(t),e.scrollTop=e.scrollHeight}function r(e){return e.toLowerCase().replace(/[^a-z]/g,"")}function o(e,t,n){return t===n.indexOf(e)}return{applySettings:e,getDistances:t,log:n,normalize:r,uniqueFilter:o}}t.exports=r()},{}],7:[function(e,t,n){function r(){function e(e){c.log("Welcome to Vigenere Decipher Engine BETA 0.1"),f=c.applySettings(h,e),f.elements.start.addEventListener("click",t)}function t(){var e,t,o,i,u;c.log("Starting to decipher"),t=c.normalize(f.elements.input.value),c.log("Step 1: Define probable key lengths using Kasiski method"),i=a(t,f.minLength,f.maxLength),c.log("Step 2: Check best matching key length using Friedman method"),e=l(t,i),c.log("Step 3: Perform frequency analyses to decipher key"),o=g(t,e),f.elements.key.innerText=o,c.log("Step 4: Deciphering the cipher text"),u=r(t,o),n(u)}function n(e){f.elements.output.innerText=e,c.log("Finished all steps.")}function r(e,t){var n,r=s.splitTextIntoColumns(e,t.length);for(n=0;n<r.length;n++)r[n]=o.shiftText(r[n],t.charCodeAt(n)-97);return s.mergeColumns(r)}function l(e,t){var n,r;return c.log("Checking most probable key length"),r=u.calculateICForKeyLengths(e,t),n=r.sort(u.sortByClosestIC)[0],c.log("Best guess for key length:",n.keyLength),n.keyLength}function g(e,t){var n,r,i="";for(n=s.splitTextIntoColumns(e,t),r=0;t>r;r++)c.log("Finding key letter",r+1,"of",t),i+=o.findShiftLetter(n[r]);return i=s.reduceRepeatedWord(i),c.log("\nBest guess for the key:",i,"\n\n"),i}function a(e,t,n){var r,o,u;return u=s.getRecurringStrings(e,t,n),r=c.getDistances(u),o=i.getGCDs(r),c.log("Most probable key lengths:",o),o}var f,h={minLength:3,maxLength:12,elements:{input:document.getElementById("ciphertext"),output:document.getElementById("plaintext"),key:document.getElementById("key"),log:document.getElementById("log"),start:document.getElementById("decipher")}};return{init:e}}var o=e("./CaesarShift"),i=e("./GreatestCommonDenominator"),u=e("./IndexOfCoincidence"),s=e("./Strings"),c=e("./Utils");t.exports=r()},{"./CaesarShift":2,"./GreatestCommonDenominator":3,"./IndexOfCoincidence":4,"./Strings":5,"./Utils":6}]},{},[1]);